<!--
---
title: 'Programa√ß√£o Mobile: Java e Objective-C, as linguagens nativas dos üì±'
date: Thu, 15 Apr 2021 15:50:35 +0000
draft: false
tags: ['Java', 'Mobile', 'Objective-c', 'Sistemas Operacionais']
---
-->


<p align="center">
  <a href="#" target="_blank">
    <img src="./img/header_mobile.jpg">
  </a>
</p>

# Programa√ß√£o Mobile: Java e Objective-C, as linguagens nativas dos üì±

A √°rea de desenvolvimento mobile est√° crescendo, hoje al√©m da pr√≥spera √°rea de desenvolvimento de aplicativos tamb√©m temos a crescente necessidade do desenvolvimento de sites e web apps responsivos - que possam adaptar-se √† diferentes tamanhos de telas, seja Desktop, Smartphone ou Tablet. **O que √© uma linguagem nativa?** Todo o software foi desenvolvido em uma linguagem de programa√ß√£o, isso tamb√©m aplica-se √† sistemas operacionais. Segundo a ferramenta de _analytics_ do site do diret√≥rio cerca de 85% do nosso tr√°fego vem de navegadores _mobile_, isso indica que muito provavelmente voc√™ est√° lendo esse artigo no seu smarphone seja ele Android ou iOS, originalmente o Android foi escrito em Java e o iOS em Objective-C e por que isso √© importante? Isso importa porque isso significa que essas linguagens s√£o as que possuem melhor performance, estabilidade e experi√™ncia de usu√°rio em suas respectivas plataformas al√©m de ter o suporte das mesmas.

* * *

![](./img/mobile_apple.png)

Objective-C: A linguagem da Apple
=================================

##### Um pouco de hist√≥ria: do Lisa ao MacOS

Objective-C e a Apple tem uma longa hist√≥ria juntos, mas diferente do que muitos pensam a linguagem que muitos chamam abreviadamente de "ObjC" n√£o foi criada pela empresa. Os primeiros computadores da Apple, Apple II e Apple III (com exce√ß√£o do Apple I) vinham com um interpretador¬† da linguagem BASIC licenciado da Microsoft e com caracter√≠sticas pr√≥prias como o famoso sinal "\]" para indicar a linha de comando e a organiza√ß√£o do c√≥digo que era diferente de qualquer outro computador BASIC da √©poca.¬† O primeiro sistema operacional pr√≥prio da Apple - desconsiderando o AppleDOS que foi vendido separadamente por um curto per√≠odo - veio com os modelos Lisa que vinham com o Lisa OS - um dos primeiros computadores com GUI - e posteriormente com a linha Macintosh que vinham com o sistema operacional MacOS System 1-6 escritos em Apple Pascal. A grande virada para a ado√ß√£o da linguagem Objective-C na verdade veio de outra empresa: a NeXT, fundada por Steve Jobs no mesmo ano em que foi afastado como CEO da Apple. Jobs havia tirado a ideia de construir uma GUI para o modelo Lisa de dentro da XEROX Parc, por√©m, al√©m da interface gr√°fica a XEROX tamb√©m estava desenvolvendo outros projetos importantes como a linguagem de programa√ß√£o Smalltalk - oficialmente, a primeira linguagem de programa√ß√£o Orientada a Objetos - que possu√≠a muitos conceitos de reaproveitamento de c√≥digo e era ideal para o desenvolvimento de aplica√ß√µes modernas (isso muito antes de C++ ou Java sequer serem idealizadas).¬† Jobs procurou a melhor solu√ß√£o para desenvolver seu novo sistema operacional e encontrou no Objective-C duas vantagens que faziam dessa a linguagem ideal at√© ent√£o para desenvolver o sistema operacional de sua nova empresa: ele tinha a orienta√ß√£o a objetos de Smalltalk - sendo muito pr√≥xima dessa linguagem - e a compatibilidade com C que era a linguagem mais popular do ramo de desenvolvimento de sistemas operacionais. A escolha acabou fazendo com que a NeXT posteriormente adquirisse a empresa criadora da linguagem a Stepstone. Um pouco da hist√≥ria do come√ßo da NeXT pode ser vista no v√≠deo [Steve Jobs brainstorms with the NeXT team 1985](https://www.youtube.com/watch?v=Udi0rk3jZYM) e que vale muito a pena ser visto. A NeXT n√£o s√≥ adotou o Objective-C como linguagem oficial do seu Sistema Operacional (o NEXTSTEP) como tamb√©m escreveu um front-end da linguagem para o compilador GCC do projeto GNU - o que facilitaria muito a ado√ß√£o e portabilidade da linguagem.¬† Em 1996, a Apple lan√ßa um edital para a aquisi√ß√£o de um novo Sistema Operacional. Ela precisava de um sistema moderno que suprisse as defici√™ncias que o ent√£o System 7 possu√≠a em rela√ß√£o √† features modernas como suporte √† processadores de √∫ltima gera√ß√£o, programa√ß√£o orientada √† objetos, prote√ß√£o de mem√≥ria e multitask preemptivo. Houveram dezenas de candidatos, mas eles funilaram em dois finalistas o BeOS - que tamb√©m era trabalho de um ex-CEO da Apple, Jean-Louis Gass√©e e que depois originou outra empresa concorrente a Be Incorporated¬† que vendia computadores com esse sistema que oferecia total compatibilidade com os programas Apple System 7 e anteriores - e o NEXTSTEP que acabou vencendo o edital e sendo adquirido juntamente com a NeXT e as patentes do Objective-C por $429 milh√µes de dol√°res, recebendo um rebrand para MacOS nome que tem at√© hoje, se quiser entender melhor a rela√ß√£o do Sistema da NEXT com o MacOS recomendo [esse v√≠deo](https://www.youtube.com/watch?v=0sOyuiPtlok) onde √© mostrado todos os resqu√≠cios do antigo sistema no novo.¬† Posteriormente, a Apple aproveitou suas d√©cadas de experi√™ncia com a linguagem e suas in√∫meras bibliotecas em Objective-C para construir o iOS que hoje roda nos iPhones, iPads e AppleTVs tornando Objective-C a linguagem nativa de todos os sistemas da empresa.

##### Vantagens do Objective-C

Objective-C t√™m muitas particularidades, mas a mais marcante delas certamente √© seu "parentesco" com Smalltalk, tendo incorporado muitas id√©ias da orienta√ß√£o √† objetos original (antes da orienta√ß√£o √† classes como em C++ e Java) e o que isso significa? Bem, que Objective-C √© mais pr√≥xima de uma id√©ia "pura" de orienta√ß√£o a objetos do que C++ ou Java. Al√©m disso a linguagem possui outras vantagens marcantes:

*   Possui performance pr√≥xima do C;
*   Capacidade de integrar de forma nativa com APIs, bibliotecas e c√≥digos C;
*   Objective-C++ que oferece integra√ß√£o com c√≥digo C++;
*   Uso nativo de bibliotecas de componentes MacOS e iOS ;
*   Excelentes ferramentas de desenvolvimento da Apple - xcode, clang...

As desvantagens significativas da linguagem est√£o em justamente ser uma linguagem de nicho - sendo historicamente usada para desenvolver aplica√ß√µes desktop/enterprise nativas para MacOS e aplicativos para iOS. Al√©m disso, em 2014 a Apple anunciou uma nova linguagem oficial - concorrente √† Objetive-C - Swift, que tem o objetivo de ser mais f√°cil e produtiva oferecendo compatibilidade total com c√≥digo em Objective-C e bibliotecas nativas e que apesar de ainda ser menos popular que Objective-C vem ganhando muito mercado de forma r√°pida.

##### Vantagens em ser um programador Objective-C

Ser um desenvolvedor de aplicativos nativos para Apple √© um dos segmentos de carreira considerados mais lucrativos dentro da √°rea de desenvolvimento. Primeiramente isso deve-se as grandes barreiras de entrada desse segmento, sendo necess√°rio o investimento em um computadores, celulares e tablets da Apple para desenvolvimento, teste e publica√ß√£o, subscri√ß√£o de contas de desenvolvimento e programas da Apple, al√©m de conhecimentos espec√≠ficos como requisitos de publica√ß√£o e funcionamento dos aplicativos para essa plataforma que tornam muito dif√≠cil √† entrada de novos desenvolvedores e torna os profissionais desse segmento muito valorizados.

##### Show me the code

Bem, apesar da linguagem de fato ser multiplataforma pragmaticamente para programar em Objective-C √© necess√°rio ter um computador com MacOS, isso por diversos motivos desde o fato da ferramenta xcode ser exclusiva para esse sistema quanto ser necess√°rio compilar os programas em um sistema MacOS para que possam ser executados no MacOS ou iOS. Al√©m disso, √© muito raro encontrar material gratuito em portugu√™s sobre a linguagem. Abaixo deixo o v√≠deo em Ingl√™s do canal Lets Build That App ensinando um pouco do b√°sico de Objective-C na pr√°tica. 

<a href="https://youtu.be/ADyiVY5wiVk" target="_blank">
    <img src="./img/thumb_objc.png">
</a>

* * *

![](http://daads.com.br/site/wp-content/uploads/2020/05/java-1-1477447-640x480-1-e1586033193862.jpg)

Java: A linguagem da Oracle
===========================

##### Um pouco de hist√≥ria: Sun, Oracle, Google, GPL e Android

Em 1990, uma importante empresa no Vale do S√≠licio, a Sun Microsystems que tinha como CEO ningu√©m menos que o lend√°rio [Bill Joy](https://pt.wikipedia.org/wiki/Bill_Joy) tinha o projeto de interligar v√°rias interfaces e fazer diversos dispositivos diferentes trabalharem juntos, incialmente esse projeto estava sendo desenvolvido com C++ pelas produtividade que a Orienta√ß√£o a Objetos com a linguagem oferecia, por√©m ainda existia o problema de que o c√≥digo compilado apenas executava na Arquitetura de Hardware para qual foi compilada, necessitando por vezes mudan√ßas ou extens√µes no c√≥digo e recompila√ß√£o para que fosse poss√≠vel o Software rodar em um novo dispositivo que tivesse uma arquitetura ainda n√£o surpotada. Devido a falta de padroniza√ß√£o da √©poca e as incopatibilidades entre diferentes Arquiteturas na √©poca que eram incentivadas devido a concorr√™ncia desregulamentada no mercado de hardware dos anos 90 tornava muito problem√°tico suportar todas as arquiteturas na √©poca e justamente essa dificuldade levou o l√≠der do projeto James Gosling a decidir que a equipe criasse a pr√≥pria linguagem de programa√ß√£o que suportasse os mais diferentes tipos de arquitetura e que mantivesse as caracter√≠sticas da Orienta√ß√£o a Objectos em C++. Em 1991 a vers√£o inicial dessa linguagem foi batizada de Oak (Carvalho). O projeto conhecido como Star Seven da Sun em quest√£o que gerou a cria√ß√£o do Oak n√£o decolou como o esperado o que levou ao seu cancelamento em 1992. Ap√≥s o cancelamento, a Linguagem Oak foi arquivada e s√≥ voltaria a ter a aten√ß√£o da empresa em 1994. Isso porque em 1994 surgiu algo que est√° te possibilitanto conhecer mais sobre a hist√≥ria da linguagem Java: a Internet. Devido ao projeto que originou a necessidade da linguagem trabalhar com a intercomunica√ß√£o de dispositivos, foi dado uma grande enfase em utilizar os melhores protocolos de comunica√ß√£o e networking na linguagem, o que tornou a lingugem perfeita para o projeto que a empresa pretendia desenvolver: um navegador. Para a utiliza√ß√£o comercial no projeto do navegador que a Sun pretendia desenvolver era necess√°rio que a mesma registrasse a Linguagem Oak como sua patente, mas a√≠ foi encontrada a barreira legal para o registro devido a esse nome j√° estar registrado, o que levou a linguagem a ser renomeada como Java (e a origem ou motiva√ß√£o desse nome tem diversas lendas por tr√°s desde o caf√© favorito de Gosling at√© a g√≠ria para caf√© forte). O navegador lan√ßado pela Sun, conhecido como Hot Java permitia interatividade nas p√°ginas HTML utilizando a linguagem Java, o que motivou a Netscape concorrente na √©poca a lan√ßar a linguagem JavaScript (que apenas tem "Java" no nome como Marketing, j√° que Java era a alternativa mais popular no momento, mesmo que n√£o houvesse rela√ß√£o nenhuma entre ambas). Deste momento ent√£o, a Sun focou em utilizar Java como linguagem de interatividade na Web e com dispositivos embarcados, com projetos de Wearables e outros dispositivos que se comunicavam via rede. Devido ao crescimento da linguagem muitos competidores similares desenvolvidos por grandes companhias como o C# da Microsoft come√ßaram a surgir, o que acabou dificultando para Sun manter a popularidade da linguagem e por volta de 2006, linguagens que j√° eram open source como Ruby e Python come√ßaram a ganhar popularidade exponencial o que fez com que a Sun tomasse um passo que foi visto por muitos como arriscado: tornar sua principal tecnologia - Java - c√≥digo aberto, sob uma licen√ßa de c√≥digo livre GPL. Por√©m, a linguagem que j√° possuia uma forte comunidade e grandes players como clientes apenas ganhou mais for√ßa ap√≥s a abertura do c√≥digo, fazendo com que a popularidade da tecnologia crescesse ainda mais, elevando o valor de mercado da empresa que ainda mantinha a lideran√ßa no desenvolvimento da mesma: a Sun. O que levou a Oracle outra empresa que estava em constante crescimento e que utilizava as tecnologias da Sun a adquiri-la em 2009 por 7,4 bilh√µes de d√≥lares, incluindo suas patentes que al√©m do Java contavam tamb√©m com in√∫meros softwares como o StarOffice e o sistema operacional OpenSolaris. Por√©m, nesse momento surgiu uma das maiores pol√™micas jur√≠dicas que se arrasta at√© os dias de hoje e tem afetado e influenciado direta ou indiretamente o mundo da tecnologia. Isso porque por volta de 2003, iniciou-se o desenvolvimento do Sistema Operacional mais utilizado do mundo hoje, o Android, pela Google. Devido a ser um Sistema Operacional que deveria executar em diferentes arquiteturas e que buscava ser popular para o desenvolvimento de aplicativos e extens√µes, tornou-se claro para a Google que Java seria uma boa escolha para o projeto, o que fez a mesma tentar negociar com a Sun o direito de uso da linguagem Java sem sucesso devido a m√° experi√™ncia que a Sun havia tido com concorrentes como a Microsoft e o temor de que isso levasse a Google a criar um fork da linguagem sem compatibilidade com a vers√£o oficial da linguagem. E aqui come√ßa o problema, como a Google n√£o conseguiu adquirir os direitos de uso da linguagem a mesma decidiu utilizar uma "c√≥pia" aberta (criada atrav√©s de um processo conhecido como "clean-room", muito famoso pelo caso da Compac e da IBM nos anos 80) conhecida como Harmony do Projeto Apache. Para o Projeto Apache, o Harmony era um projeto central j√° que muitos das suas bibliotecas e tecnologias eram feitas em Java e a mesma jamais conseguiu a licen√ßa de uso da Sun devido a diverg√™ncias sobre licenciamento de c√≥digo que a mesma tinha com a Sun. Essa primeira vers√£o do Android, que usava o Harmony no Android SDK ficou conhecida como [Dalvik](https://en.wikipedia.org/wiki/Dalvik_(software)) lan√ßada em 2008 tornando Java a linguagem nativa do Android, por√©m a implementa√ß√£o Harmony que n√£o era a mesma da Sun e posteriormente da Oracle, apenas em 2016 na vers√£o 7 do Sistema Android √© que foi adotado a OpenJDK como oficial do AndroidSDK tornando as implementa√ß√µes da Oracle e do Android mais pr√≥ximas, utilizando uma implementa√ß√£o aberta da linguagem. Por√©m, quando a Oracle adquiriu todas as patentes da Sun em sua aquisi√ß√£o a mesma contestou o qu√£o "clean-room" a implementa√ß√£o usada no Android realmente era e acusou a Google de ter feito modifica√ß√µes no mesmo adicionando c√≥digo que infligia o copyright da Linguagem Java, listando in√∫meros trechos de c√≥digo e APIs que supostamente continham c√≥digo que infligiam a licen√ßa da Linguagem Java tanto no Harmony quanto nas modifica√ß√µes da Google. O processo acabou desrolando em uma s√©rie de questionamentos e acusa√ß√µes sobre reimplementa√ß√µes de Software, gerando in√∫meras discuss√µes e posicionamentos de empresas e comunidade de software que apoiam um ou outro lado do processo que segue at√© hoje e que pode redefinir como as patentes e reimplementa√ß√µes (engenharia reversa) s√£o ou n√£o s√£o legais. Em 2021 ap√≥s 10 anos, essa disputa finalmente chegou ao fim com a vit√≥ria da Google na Suprema Corte Americana que avaliou atrav√©s de ferramentas de auditoria que a quantidade de c√≥digo que supostamente infringia as patentes da Oracle eram de 0,0004% o que configura fair use, al√©m de colocar como jurisprud√™ncia que reimplementar APIs de forma "clean" n√£o violam quaisquer patentes da empresa que det√™m os direitos autorais.

##### Vantagens do Java

Muitos devem ter acompanhado nossa s√©rie de posts sobre Java moderno e sabem que Java al√©m de ter sido a linguagem mais popular do mundo por d√©cadas ainda hoje possui um vasto mercado n√£o somente no desenvolvimento de aplicativos para smartphone como tamb√©m no desenvolvimento de software web, desktop e principalmente no que √© conhecido como "Mundo Enterprise" (que √© o segmento de grandes companhias que precisam de uma linguagem que possua suporte comercial e que possa oferecer solu√ß√µes empresariais em diversos n√≠veis como Java e C#). Al√©m disso Java tem como linguagem diversas caracter√≠sticas marcantes:

* Orienta√ß√£o a Objetos como padr√£o de desenvolvimento da linguagem;
* Portabilidade - Independ√™ncia de plataforma;
* Recursos de Rede - Possui extensa biblioteca de rotinas que facilitam a coopera√ß√£o com protocolos TCP/IP, como HTTP e FTP;
* √â distribu√≠da com um vasto conjunto de bibliotecas (ou APIs);
* Desaloca√ß√£o de mem√≥ria autom√°tica por processo de garbage collector;
* In√∫meras bibliotecas open-source utilizadas pelos maiores sistemas do mundo;
* Uma das maiores comunidades de tecnologia, com in√∫meros programadores e empresas que apoiam;
* Muito material pago e gratuito, em portugu√™s ou ingl√™s sobre a linguagem;
* R√°pida execu√ß√£o, optimiza√ß√£o de performance em tempo de execu√ß√£o - JIT;
* Alta seguran√ßa (no sentido de o c√≥digo executar exatamente o que foi previsto);
* Grande n√∫mero de ferramentas de qualidade para desenvolver na linguagem;
* Possibilidade de desenvolver em qualquer plataforma: embarcados, web, desktop e aplicativos;
* Livre como em "Liberdade de Express√£o", apesar das pol√™micas implementa√ß√µes como a OpenJDK s√£o gratuitas e livres para uso tal qual qualquer outro software livre e sem gerar qualquer problema jur√≠dico ou restri√ß√£o de desenvolvimento;

Durante toda essa disputa e discuss√£o entre Google e Oracle levou com que muitas empresas que n√£o utilizavam a vers√£o da Oracle a se preocupar com poss√≠veis processos devido a suas reimplementa√ß√µes da JDK ou JVM, al√©m de colocar o Google em uma posi√ß√£o muito delicada com o Sistema Operacional Android. Isso levou com que o Google fechasse uma parceria com a JetBrains, outra empresa importante do mundo Java para desenvolver uma nova linguagem nativa e oficial para o Android: Kotlin. O objetivo era que Kotlin fosse uma linguagem aberta, totalmente compat√≠vel com Java tanto no c√≥digo, quanto em sua compila√ß√£o e execu√ß√£o e que mantivesse as caracter√≠sticas principais da linguagem, por√©m com features modernas, menos verbosidade e que permitisse usar e se comunicar com todo o c√≥digo Java de forma funcional e natural na linguagem. Hoje, a linguagem Java continua sendo a linguagem nativa do Android, mas devido ao processo da Oracle e a ado√ß√£o da linguagem Kotlin como oficial o Android SDK j√° n√£o recebe mais todas as atualiza√ß√µes que a linguagem Java recebe, sendo imposs√≠vel utilizar muitas de suas features modernas de forma nativa na Plataforma at√© o momento, o que pode ser uma grande desvantagem para quem pretende desenvolver aplicativos nativos para Android em Java.

##### Vantagens em ser um programador Java

Apesar de Java estar perdendo espa√ßo como a linguagem de programa√ß√£o mais popular do mundo ela ainda √© listada como segunda ou terceira linguagem mais popular tanto pelo √≠ndice da IEEE, o Tiobe, RedMonk e o PYPL, o que significa que podemos afirmar com seguridade que ela n√£o somente √© uma linguagem muito popular como uma das mais utilizadas pelo mercado em qualquer lugar do mundo, o que √© excelente para quem busca oportunidades no mercado de trabalho tanto no Brasil quanto fora do Pa√≠s. Al√©m disso a maior parte dos bancos p√∫blicos do Brasil e os Sistemas mantidos pelo Governo s√£o em Java o que abre excelentes oportunidades para quem busca a estabilidade atrav√©s de concursos p√∫blicos.

##### Show me the code

Um grande motivo de discuss√µes sobre o desenvolvimento de aplicativos nativos para Android, seja com Java ou seja com Kotlin √© que para isso √© necess√°rio utilizar ferramentas como o Android SDK, Android Studio ou Eclipse e emuladores que rodam o SO do Android em virtualiza√ß√£o o que n√£o coloca nenhuma barreira de SO como no caso do Obj-C, mas que exige uma m√°quina mais robusta do que normalmente se utiliza no desenvolvimento de outras aplica√ß√µes sendo recomendado para uma boa experi√™ncia que a m√°quina possua no m√≠nimo 16GB de RAM, processador i5 ou superior e 2GB de mem√≥ria de v√≠deo dedicada o que √© algo que se deve levar em considera√ß√£o antes de come√ßar a programar para Android. Abaixo deixo um v√≠deo com um tutorial b√°sico sobre como desenvolver um app "Hello World" para Android, para quem se interessar o mesmo canal, "Universidade C√≥digo" tem uma s√©rie feita em 2019 ensinando a desenvolver aplicativos nativos feitos em Java para o Android:
